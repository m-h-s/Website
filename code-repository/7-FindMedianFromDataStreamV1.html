<!DOCTYPE html>
<html>

<head>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-47250740-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-47250740-1');
</script>
 
 
<title> Find Median from Data Stream </title>

<link rel = "stylesheet"   href = "../css/repostyle.css" >

<meta name = "author" content = "Mahsa Sadi">

<meta name = "description" content = "code projects">

<meta name = "keywords" content = "Java, Code, Problem, Solution">

<meta name = "viewport" content = "width=device-width, initial-scale = 1.0">


<nav id= "navbar">
<a href = "../index.html">Home</a> &nbsp &nbsp |  &nbsp &nbsp
<a href = "../Research and Publications.html">Research</a>   &nbsp &nbsp |  &nbsp &nbsp  
<a href = "../Honors and Awards.html">Honors and Awards</a>  &nbsp &nbsp |  &nbsp &nbsp
<a href="../Code%20Repository.html">Code Repository</a>  &nbsp &nbsp |  &nbsp &nbsp
<a href = "../Teaching Experience.html">Teaching</a> &nbsp &nbsp |  &nbsp &nbsp
<a href="">Interesting Research Projects</a>  
</nav>

</head>



<body>


<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>



<div id = "code-description">


<!-- Title -->

<p id= "heading"> Title: </p>

<p class = "strong" > Find Median from Data Stream </p> 

<!-- ///////  -->


<!-- Link to LeetCode -->

<p id= "heading">Link to LeetCode:</p>

<p> <a href = "https://leetcode.com/problems/find-median-from-data-stream/"> https://leetcode.com/problems/find-median-from-data-stream/ </a> </p>

<!-- ///////  -->


<!-- Problem -->

<p id = "heading"> Specification: </p>

<p> 
Median is the middle value in an ordered integer list. <br>
If the size of the list is even, there is no middle value. <br>
So the median is the mean of the two middle value. <br>

For example,[2,3,4], the median is 3.<br>
[2,3], the median is (2 + 3) / 2 = 2.5. <br><br>

Design a data structure that supports the following two operations: <br>
<li> void addNum(int num) - Add a integer number from the data stream to the data structure. </li>
<li> double findMedian() - Return the median of all elements so far. </li>
</p>

<!-- ///////  -->

<!-- Examples -->

<p id = "heading"> Examples: </p>

<p class = "strong" > Example 1: </p>
<p> 
addNum(1)<br>
addNum(2) <br>
findMedian() -> 1.5 <br>
addNum(3) <br>
findMedian() -> 2 <br>
</p>


<p class = "strong" > Example 2: </p>
<p></p>


<!-- ///////  -->


<!-- Signature -->

<p id = "heading"> Initial Code and Signature: </p>

<div id ="code-snippet2">
<code>
<pre class="prettyprint">
public abstract class MedianFinder {
	    
	 public abstract void addNum(int num);
	    
	 public abstract double findMedian();

}
</pre>
</code>
</div>

<!-- ///////  -->


<!-- Solution  -->

<p id = "heading">  Algorithm: </p>

	<ol>
	<li> Consider an array list for storing the elements of the data stream. </li>
	<li> Keep this array list always sorted upon adding a new element. </li>
	<li> Use binary search to find the location where a new element should be inserted. </li>
	 
	</ol>
	

<!-- ///////  -->

<!-- RunTime Analysis  -->

<p id = "heading">  Run-Time Analysis: </p>
<p> </p>

<!-- ///////  -->

<!-- GitHub  -->

<p id ="heading"> GitHub Project: </p>

<p> <a href = "">  </a> </p>

<!-- ///////  -->
 
 <!-- Code  -->

<p id ="heading"> Code: </p>

<!-- ///////  -->
 
</div>

<div id = "code-snippet">

<code>
<pre class="prettyprint">
<!-- Code -->
import java.util.*;
/**
 * 
 * @author Mahsa Sadi
 * 
 * @since 2020 - 03 - 13 
 * 
 * License: Creative Commons
 * 
 * Copyright by Mahsa Sadi
 * 
 *
 */
public class MedianFinderV1 extends MedianFinder {
	
	
	/**
	 * Problem: 
	 * 
	 * Find Median from Data Stream
	 * 
	 * 
	 * 
	 * Description:
	 * 
	 * Median is the middle value in an ordered integer list. 
	 * 
	 * If the size of the list is even, there is no middle value. 
	 * 
	 * So the median is the mean of the two middle value.
	 * 
	 * 
	 * 
	 * Design a data structure that supports the following two operations:
	 * 
	 * void addNum(int num) - Add a integer number from the data stream to the data structure.
	 * 
	 * double findMedian() - Return the median of all elements so far.
	 * 
	 * 
	 * 
	 * 
	 * Solution:
	 * 
	 * 
	 * 1- Consider an array list for storing the elements of the data stream.
	 * 
	 * 2- Keep this array list always sorted upon adding a new element.
	 * 
	 * 3- Use binary search to find the location where a new element should be inserted. 
	 * 
	 * 
	 * 
	 * Note:  
	 * 
	 * This array list is a high-level data structure in Java,
	 * 
	 * with a performance between an array of items and a list of items.
	 * 
	 * 
	 * 
	 * Complexity:
	 * 
	 * 1- findMedian: O (1);
	 * 2- addNum: Log (dataStream.size()) + O (dataStream.size ()) = O (N + Log N) = O (N)
	 * 
	 * 
	 * 
	 */

	List &lt;Integer&gt; dataStream;
	
    
	
	public MedianFinderV1 ()
	{
		dataStream = new ArrayList &lt;Integer&gt; ();
	}
	
	
	
	@Override
	public double findMedian() {
		
		
		double median;
		
		if (dataStream.size() % 2 == 0)
		{
			median =  (double) ( dataStream.get(dataStream.size() / 2  ) + 
					    dataStream.get( (dataStream.size() / 2) - 1) ) 
			            / 2;
		}
		
		else 
			median = dataStream.get(dataStream.size() / 2);
		
		
		return median;
		
	}
	
	
	@Override
	public void addNum(int num) {
		
		if (dataStream.isEmpty())
			dataStream.add(num);
		  
		
		else 
		{
			int position = findLocationUsingBinarySearch (num, 0 , dataStream.size() - 1 );
			dataStream.add(position, num);
		}
		
	}
	
	
	
	
	public int findLocationUsingBinarySearch (int num, int start, int end)
	{
		int middle = (start + end ) / 2;
		int middleValue = dataStream.get(middle);
		
		
		
		if (num == middleValue) 
			return middle + 1;
		
		
		else if (start == end)
		{
		   if (num > dataStream.get(start))	
			 return end + 1;
		   else 
			 return start;
		}
		
		else if (num > middleValue)
		{
			
			if (middle != end )
			    return findLocationUsingBinarySearch (num, middle + 1, end);
			else 
				return findLocationUsingBinarySearch (num, middle, end);
		}
		
		
		else 
		{
			if (start != middle)
			   return findLocationUsingBinarySearch (num, start, middle - 1);
			else
			   return findLocationUsingBinarySearch (num, start, middle);
		}
		
		
	}

	
	
	public String toString ()
	{
		String data ="";
		
		for (Integer element : dataStream)
			data += element + "  ";
		
		return data;
			
	}

}
</pre>
<!-- ///////  -->

</code>

</div>

<body>

</html>
